# docker-compose.override.yaml
# This file is automatically merged with docker-compose.yaml
# It overrides the image-based services to build from local source code

services:
  api:
    build:
      context: .
      dockerfile: api/Dockerfile
    image: dograh-api:local
    # Remove the image from registry - we're building locally

  ui:
    build:
      context: .
      dockerfile: ui/Dockerfile
    image: dograh-ui:local
    # Increase runtime memory limits
    deploy:
      resources:
        limits:
          memory: 2g
